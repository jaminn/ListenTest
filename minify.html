<!DOCTYPE html><html lang="en"><head><title>List_EN</title><meta charset="utf-8"> <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script> <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script> <script>(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;} var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;} __webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value;};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter});}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=1);}) ([(function(module,exports){module.exports=(function(){function from_srt(data,ms){var useMs=ms?true:false;data=data.replace(/r/g,'');var regex=/(d+)n(d{2}:d{2}:d{2},d{3}) --> (d{2}:d{2}:d{2},d{3})/g;data=data.split(regex);data.shift();var items=[];for(var i=0;i<data.length;i+=4){items.push({id:data[i].trim(),startTime:useMs?timeMs(data[i+1].trim()):data[i+1].trim(),endTime:useMs?timeMs(data[i+2].trim()):data[i+2].trim(),text:data[i+3].trim()});} return items;} var timeMs=function(val){var regex=/(d+):(d{2}):(d{2}),(d{3})/;var parts=regex.exec(val);if(parts===null){return 0;} for(var i=1;i<5;i++){parts[i]=parseInt(parts[i],10);if(isNaN(parts[i]))parts[i]=0;} return parts[1]*3600000+parts[2]*60000+parts[3]*1000+parts[4];};function shuffle(array){var currentIndex=array.length,temporaryValue,randomIndex;while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue;} return array;}});}),(function(module,exports,__webpack_require__){__webpack_require__(0)();var tag=document.createElement('script');tag.src="//www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var srtF="";var parsed_srt=[];var quiz_counter=0;var unshuffled;var howMany_del=0;var allRightBool=false;var replayBool=false;var playByButton=false;var HowMany_wrongs=0;var wrongsCnt=0;var time=0;var wrongWord="";var vidID;var SuffButton=["apple","banna","orange","kiwi"];var srtLast=0;var stop4quiz=false;var player;var manage_words={reg:/(S*?){!(.*?),(.*?),(.*?)}/g,words:[],p1:'#hover-text-pun',p2:'#hover-text-con',p3:'#hover-text-mean',word_replace:function(sen){return sen.replace(this.reg,'$1');},sen2wordPushAll:function(sen){var word;this.words=[];while(word=this.reg.exec(sen)){this.words.push(word);}},displayNth:function(N){if(this.words[N]){$(this.p1).html(this.words[N][2]);$(this.p2).html(this.words[N][3]);$(this.p3).html(this.words[N][4]);return true;}else{console.log("NO Nth for display");return false;}},displayMatch:function(match){for(word of this.words){console.log(word);if(word[1]===match){$(this.p1).html(word[2]);$(this.p2).html(word[3]);$(this.p3).html(word[4]);return true;}} console.log("NO MATCH for display");return false;},displayJust:function(top,center,bottom){$(this.p1).html(top);$(this.p2).html(center);$(this.p3).html(bottom);}};$(document).ready(function(){console.log("page ready!");});function HtmlDecode(s){var el=document.createElement("div");el.innerHTML=s;result1=el.innerText||el.textContent;var el2=document.createElement("div");el2.innerHTML=result1;result2=el2.innerText||el2.textContent;return result2;} function wordOnly(s){var sen=s;sen=sen.replace(/B[_+.,!@#$%^&*();\/|<>"']+b/g,"").toLowerCase();sen=sen.replace(/b[_+.,!@#$%^&*();\/|<>"']+B/g,"").toLowerCase();return sen;} function getParams(){var param=new Array();var url=decodeURIComponent(location.href);url=decodeURIComponent(url);var params;params=url.substring(url.indexOf('?')+1,url.length);params=params.split("&");var size=params.length;var key,value;for(var i=0;i<size;i++){key=params[i].split("=")[0];value=params[i].split("=")[1];param[key]=value;} return param;} var p=getParams();timer=setInterval(timecnt,1000);function timecnt(){time++;} function getSubTry(data,event){var mytext;var mystart;var myend;[].forEach.call(data.getElementsByTagName('text'),function(val){mytext=HtmlDecode(val.innerHTML);mystart=val.getAttribute("start")*1000;myend=mystart+val.getAttribute("dur")*1000;parsed_srt.push({text:mytext,startTime:mystart,endTime:myend});});srtLast=parsed_srt.length-1;event.target.cueVideoById({videoId:p['vid']});$("#starter").removeClass("myHide");$("#hover").fadeOut(500);} function onYouTubeIframeAPIReady(){player=new YT.Player('player',{playerVars:{controls:0,cc_load_policy:1,rel:0,autohide:1,disablekb:1,iv_load_policy:3,fs:0,gl:'KR',hl:'ko',showinfo:0},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange}});} function onPlayerReady(event){p["vid"]=p["vid"]||"IXxZRZxafEQ";var request=$.get("/"+p["vid"]+".srt");request.success(function(data){srtF=data;parsed_srt=from_srt(srtF,true);srtLast=parsed_srt.length-1;console.log("youtubeReady");event.target.cueVideoById({videoId:p['vid']});$("#starter").removeClass("myHide");$("#hover").hide();});request.fail(function(){console.log("자막을 가져오지 못함(자기 컴)");$.ajax({url:'https://video.google.com/timedtext?lang=en&v='+p['vid'],success:function(data){try{getSubTry(data,event);}catch(e){$.ajax({url:'http://video.google.com/timedtext?lang=en-GB&v='+p['vid'],success:function(data){try{getSubTry(data,event);}catch(e){console.log(e);console.log("자막을 가져오지 못함(유튜브)");alert("자막이 없습니다.");window.location.href="/";}},error:function(){console.log("자막을 가져오지 못함(유튜브)");alert("로딩error");}});}},error:function(){console.log("자막을 가져오지 못함(유튜브)");alert("로딩error");}});});} function onPlayerStateChange(event){switch(event.data){case YT.PlayerState.UNSTARTED:console.log('unstarted');break;case YT.PlayerState.ENDED:console.log('ended');manage_words.displayJust("","END","");setTimeout(function(){window.location.href="/";},800);$("#hover").fadeIn(200);$("#hover").fadeOut(400);break;case YT.PlayerState.PLAYING:if(!playByButton){player.stopVideo();alert("start버튼으로 재생해주세요");} console.log('--playing--');stop4quiz=false;setTimeout(function(){replayBool=false;},3000);my_timer=setInterval(check_where,5);$("#buttonP").html("");$("#hover").hide();howMany_del=0;HowMany_wrongs=0;$("#hintP").html("<h1>"+"힌트"+"</h1>");$("#life").html("<h1>"+"틀린횟수"+"</h1>");break;case YT.PlayerState.PAUSED:clearInterval(my_timer);console.log('-paused-');break;case YT.PlayerState.BUFFERING:clearInterval(my_timer);console.log('buffering');break;case YT.PlayerState.CUED:console.log('video cued');break;}} function lets_start(){player.playVideo();var fn=function(){player.playVideo();} setTimeout(fn,3000);$("#starter").remove();playByButton=true;my_timer=setInterval(check_where,10);progress_timer=setInterval(function(){var playerTotalTime=player.getDuration();var playerCurrentTime=Math.round(player.getCurrentTime());var playerTimeDifference=(playerCurrentTime/playerTotalTime)*100;var playerTimePercent=playerTimeDifference.toFixed(2);$(".progress-bar").width(playerTimePercent+'%');},100);} function selected_word(i){return $("#buttonP").children().eq(i).children().eq(0).get(0);} function id2number(id){return parseInt(id.substr(1));} $(document).keydown(function(e){switch(e.keyCode){case 65:if(selected_word(0)!==undefined){if(selected_word(0).onclick!==block_dis) my_dis(selected_word(0));else block_dis();} break;case 83:if(selected_word(1)!==undefined){if(selected_word(1).onclick!==block_dis) my_dis(selected_word(1));else block_dis();} break;case 68:if(selected_word(2)!==undefined){if(selected_word(2).onclick!==block_dis) my_dis(selected_word(2));else block_dis();} break;case 70:if(selected_word(3)!==undefined){if(selected_word(3).onclick!==block_dis) my_dis(selected_word(3));else block_dis();} break;case 37:console.log("you pressed 37(<-) left key");if(quiz_counter!==0){clearInterval(my_timer);replayBool=false;player.seekTo(getPastStart());prvWhere();player.playVideo();} break;case 39:console.log("you pressed 39(->) right key");if(quiz_counter<srtLast){clearInterval(my_timer);replayBool=false;if(!stop4quiz){if(parsed_srt[0].startTime/1000>player.getCurrentTime().toFixed(2)){player.seekTo(getNowStart());nxtWhere();}else{player.seekTo(getFutureStart());nxtWhere();}} player.playVideo();} break;}});function replaces(words){words=manage_words.word_replace(words);words=words.replace(/<i>/g,"");words=words.replace(/</i>/g,"");words=words.replace(/n/g," ");words=words.replace(/--/g,"");words=words.replace(/([sS]*?)/g,"");words=words.replace(/B[^w' ]+B/g,"");words=words.replace(/ +/g," ");words=words.replace(/^s*/,'');words=words.replace(/s*$/,'');return words;} function prvWhere(){quiz_counter--;} function nxtWhere(){quiz_counter++;} function getPast(){return quiz_counter>0?parsed_srt[quiz_counter-1].endTime/1000:0;} function getPastStart(){return quiz_counter>0?parsed_srt[quiz_counter-1].startTime/1000:0;} function getNow(){if(quiz_counter<=srtLast){return parsed_srt[quiz_counter].endTime/1000;}else{return player.getDuration()-0.5;}} function getNowStart(){if(quiz_counter<=srtLast){return parsed_srt[quiz_counter].startTime/1000;}else{return player.getDuration()-0.5;}} function getFuture(){if(quiz_counter<srtLast){return parsed_srt[quiz_counter+1].endTime/1000;}else{return player.getDuration()-0.5;}} function getFutureStart(){if(quiz_counter<=srtLast){return parsed_srt[quiz_counter+1].startTime/1000;}else{return player.getDuration()-0.5;}} function check_where(){var How_video_pasted=player.getCurrentTime().toFixed(2);if(!allRightBool){if(getPast()>How_video_pasted){if(quiz_counter>0){if(!replayBool&&!allRightBool){console.log(quiz_counter+": ViewPrv");prvWhere();}}} if(getFuture()<How_video_pasted){if(quiz_counter<srtLast-1){console.log(quiz_counter+": ViewNxt");nxtWhere();}}else{if(getNow()<=How_video_pasted&&(""!=wordOnly(replaces(parsed_srt[quiz_counter].text)))){console.log("진행 현재보다 큼(멈춤)");replayBool=false;stop4quiz=true;$("#buttonP").html("");player.pauseVideo();manage_words.sen2wordPushAll(parsed_srt[quiz_counter].text);unshuffled=parsed_srt[quiz_counter].text;unshuffled=replaces(unshuffled);unshuffled=unshuffled.split(" ");[0,1,2,3].forEach(function(i){if(i<unshuffled.length)SuffButton[i]=unshuffled[i%unshuffled.length];});SuffButton=shuffle(SuffButton);[0,1,2,3].forEach(function(my_x){$("#buttonP").append('<div class="textboxWidth" style=" float: left;"><button id=b'+my_x+' class="btn btn-primary btn-lg center-block" style="background-color:#fff;color:#000;font-size:17px;position: relative; display: block; height:80px;width:85%; padding:0; margin:0 auto;" onclick="my_dis(this)">'+wordOnly(SuffButton[my_x])+"</button></div>");});addOnMouse();$("#textP").html("");nxtWhere();console.log(quiz_counter+": 새 버튼 생성");}}}else if(getPast()<=How_video_pasted){allRightBool=false;if(getPastStart()<=How_video_pasted){$("#textP").html("");}}} function replay(){console.log(quiz_counter+":replay가 불려짐");prvWhere();player.seekTo(getNowStart()-0.1);replayBool=true;player.playVideo();HowMany_wrongs=0;} function addOnMouse(){["#b0","#b1","#b2","#b3"].forEach(function(btn,cnt){$(btn).mouseenter(function(){if(manage_words.displayMatch(SuffButton[cnt])){$("#hover").clearQueue();$("#hover").stop().fadeIn(300);}else{$("#hover").clearQueue();$("#hover").fadeOut(300);}}).mouseleave(function(){$("#hover").fadeOut(300);});});} function block_click(){[0,1,2,3].forEach(function(i){if(wordOnly(unshuffled[howMany_del])!=wordOnly(SuffButton[id2number(selected_word(i).id)])){var right_answer=wordOnly(unshuffled[howMany_del]);selected_word(i).style.backgroundColor="#bbb";selected_word(i).onclick=block_dis;}});} function block_dis(){$("#buttonP").html("");$("#hintP").html("");[0,1,2,3].forEach(function(i){if(i<unshuffled.length)SuffButton[i]=unshuffled[(i+howMany_del)%unshuffled.length];});SuffButton=shuffle(SuffButton);[0,1,2,3].forEach(function(my_x){$("#buttonP").append('<div class="textboxWidth" style="float: left;"><button id=b'+my_x+' class="btn btn-primary btn-lg center-block" style="background-color:#fff;color:#000;font-size:17px;position: relative; display: block; height:80px;width: 85%;padding: 0; margin:0 auto;" onclick="my_dis(this)">'+wordOnly(SuffButton[my_x])+"</button></div>");});$("#textP").append(unshuffled[howMany_del]+" ");howMany_del++;if(unshuffled.length==howMany_del){$("#myprogress").addClass("blinkGreen");setTimeout(function(){$("#myprogress").removeClass("blinkGreen");},1000);player.seekTo(getPastStart()-0.1);player.playVideo();allRightBool=true;howMany_del=0;}} function my_dis(my){if(wordOnly(unshuffled[howMany_del])==wordOnly(SuffButton[id2number(my.id)])){$("#buttonP").html("");$("#hintP").html("");[0,1,2,3].forEach(function(i){if(i<unshuffled.length)SuffButton[i]=unshuffled[(i+howMany_del)%unshuffled.length];});SuffButton=shuffle(SuffButton);[0,1,2,3].forEach(function(my_x){$("#buttonP").append('<div class="textboxWidth" style="float: left;"><button id=b'+my_x+' class="btn btn-primary btn-lg center-block" style="background-color:#fff;color:#000;font-size:17px;position: relative; display: block; height:80px;width: 85%;padding: 0; margin:0 auto;" onclick="my_dis(this)">'+wordOnly(SuffButton[my_x])+"</button></div>");});addOnMouse();$("#textP").append(unshuffled[howMany_del]+" ");howMany_del++;if(unshuffled.length==howMany_del){$("#myprogress").addClass("blinkGreen");setTimeout(function(){$("#myprogress").removeClass("blinkGreen");},1000);player.seekTo(getPastStart()-0.1);player.playVideo();allRightBool=true;howMany_del=0;}}else{HowMany_wrongs++;wrongsCnt++;wrongWord+=SuffButton[id2number(my.id)]+",";if(HowMany_wrongs==3){console.log("3번 틀려서 replay를 부름");$("#myprogress").addClass("blinkRed");setTimeout(function(){$("#myprogress").removeClass("blinkRed");},1000);replay();}else{block_click();$("#hintP").html("<h1>"+unshuffled[howMany_del]+"</h1>");}}}})]);</script> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><style>body{background-color:#f0f0f0;margin-top:0px;overflow-y:hidden;height:1000px}.myHide{display:none}.blinkRed{animation-name:myred;animation-duration:1s}@keyframes myred{0%{background-color:#337ab7}40%{background-color:red}100%{background-color:#337ab7}}.blinkGreen{animation-name:mygreen;animation-duration:1s}@keyframes mygreen{0%{background-color:#337ab7}40%{background-color:green}100%{background-color:#337ab7}}#exam{margin-top:10px;width:1150px;height:700px;background-color:#FFF;border-radius:20px;box-shadow:0 0 5px 0 #BDBDBD}.gl{font-size:18px;font-weight:bold;text-decoration:none;text-align:center;border-bottom:3px solid #AAA;padding-bottom:1px}.textboxWidth{width:25%}@media (min-width: 1024px){#well{min-height:20px;padding:0 20% 20% 20%;margin-bottom:0px;background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.05);box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.05)}}@media (max-width: 767px){.textboxWidth{width:50%;padding-top:10px}}#score{background-color:rgba(0, 0, 0, 0.5);display:fixed;z-index:2}</style></head><body> <article> <section class="center-block"><div id="well" class="text-center center-block"><div><div class="text-left"><div id="score"><div class="embed-responsive embed-responsive-16by9"><div id="hover" style="display: block; background: rgba(27, 127, 204, 0.32); z-index: 10; width: 100%; height: 100%; position: absolute; text-align: center;"><div style="text-align:center;position: absolute; left: 50%;top: 50%;transform:translate(-50%,-50%);" class="text-left"><h1 id="hover-text-pun" style="color:white;font-weight: 500;font-size: xx-large;"> 잠시만</h1><h1 id="hover-text-con" style="color:white;font-weight: 500;font-size: xx-large;"> 기다려</h1><h1 id="hover-text-mean" style="color:white;font-weight: 500;font-size: xx-large;"> 주세요</h1></div></div><div id="player" class="embed-responsive-item"></div></div></div><div class="progress" style="height: 10px; margin-bottom:10px;"><div id="myprogress" class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><div class="well well-lg text-center" style="margin:10px 0;padding-top: 12px;background-color:transparent;min-height: 58px;"> <span class="gl" id="textP" style="/* display: inline-block; */"></span></div><div class="container text-center" style="margin-top:5px; width: auto;"> <button type="button" id="starter" class="myHide btn btn-warning" style="font-weight:bold;font-size:20px;margin: 30px auto; padding:20px 50px;border-radius:10px;" onclick="lets_start();">시작!</button></div></div><div style="margin-top:10px;text-align: justify"><div class="btn-group" id="buttonP" style="display: block"></div></div></div> </section> </article><div class="modal fade bs-example-modal-sm" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">결과 화면</h4></div><div class="progress" style="margin-top:20px;margin-bottom:0px"><div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div></div><div style="color:#1976D2;font-size:15px;">exp</div></div><div class="modal-footer"> <a href="/media" type="button" class="btn" style="display: inline-block;padding: 6px 45px;background:#4275ff;color:#fff;border:1px solid #4275ff;">확인</a></div></div></div></div></body></html>